package adventofcode.aoc2025.day5;

import common.Pair;

import java.util.ArrayList;
import java.util.List;

/**
 * https://adventofcode.com/2025/day/5
 */
public class Main {

    public static void main(String[] args) {

        String t = "3-5\n" +
                "10-14\n" +
                "16-20\n" +
                "12-18\n" +
                "---" +
                "1\n" +
                "5\n" +
                "8\n" +
                "11\n" +
                "17\n" +
                "32";

        String s = "10610054450932-16248915699091\n" +
                "377085883505177-377411515098475\n" +
                "375819323667708-376258116861038\n" +
                "170187498282307-170497327253346\n" +
                "166652278386204-167578065989335\n" +
                "553257284780264-558329119300938\n" +
                "42434578175138-42434578175138\n" +
                "141648435367857-144914998434168\n" +
                "23885840349310-27544329546633\n" +
                "478425798600672-480092356371002\n" +
                "503187432771806-503744652602074\n" +
                "242497191325949-247717040263977\n" +
                "373320430983949-374119463563198\n" +
                "161997126715579-162416318511877\n" +
                "253214080417137-255656168515865\n" +
                "486391866378394-488097411654907\n" +
                "86701386796024-87682738381597\n" +
                "105089710343182-108170485649545\n" +
                "313807522958730-321036568524856\n" +
                "72771293387577-74608184150004\n" +
                "415837882507207-415837882507207\n" +
                "275181436548493-277947483176888\n" +
                "444094685580950-450264786873117\n" +
                "403875389659648-405648612057666\n" +
                "37510747372890-37795211831895\n" +
                "224564177147340-230267414203533\n" +
                "170187498282307-170497327253346\n" +
                "463473120266464-468283094457453\n" +
                "116206507913732-117801851721678\n" +
                "377770021010426-378034268280814\n" +
                "263648745770307-268043024098498\n" +
                "168161437500148-168422850957874\n" +
                "362564871337196-369984092206838\n" +
                "42434578175138-48996960945783\n" +
                "16248915699092-18853565551073\n" +
                "536860740011342-540550222656573\n" +
                "407489351926926-409136596727249\n" +
                "64843827189947-68194020297224\n" +
                "138170129140434-138170129140434\n" +
                "379793624112050-380199462038207\n" +
                "477129275514807-478992362634990\n" +
                "283049324534848-288324541570488\n" +
                "402328697595602-404368405179883\n" +
                "480641052790123-482172109386328\n" +
                "92351643659055-96246980779921\n" +
                "2004292901156-7914212503910\n" +
                "72771293387577-77951102420232\n" +
                "333579866098037-337713952280567\n" +
                "435126109763559-441248634458376\n" +
                "161751018223278-162416318511877\n" +
                "456795284641853-460591761056785\n" +
                "38610745923671-38861291364299\n" +
                "358343414221085-358343414221085\n" +
                "444094685580949-444094685580949\n" +
                "118158125349266-119342148057794\n" +
                "33123369283774-33534431858294\n" +
                "119052990541245-120280969734972\n" +
                "35656386438453-35774251725366\n" +
                "166556969313016-167219895587143\n" +
                "379434785857707-380199462038207\n" +
                "504347735650773-504718853689927\n" +
                "503187432771806-504047945087635\n" +
                "404993844400723-407064567330556\n" +
                "376812091526666-377411515098475\n" +
                "409739168331678-411638071344458\n" +
                "294270245917949-300241350744030\n" +
                "111721191685421-113008858109332\n" +
                "166556969313016-167219895587143\n" +
                "479387003643678-481197478542901\n" +
                "472848531251287-474432506561118\n" +
                "543808234719731-551879599099016\n" +
                "144914998434170-149365499791803\n" +
                "201619068465433-210432685194375\n" +
                "325509633685329-330357309860867\n" +
                "115531735816576-116588933665838\n" +
                "117107791173109-118733264642278\n" +
                "510712334036647-511088667143489\n" +
                "509847091213598-510470418637247\n" +
                "510363725616745-510470418637247\n" +
                "37510747372890-37795211831895\n" +
                "526842281664852-526842281664852\n" +
                "385960260830840-385960260830840\n" +
                "344251920979258-348111299303952\n" +
                "170187498282307-170497327253346\n" +
                "514888881586172-522047578487168\n" +
                "376534315262621-377411515098475\n" +
                "254830234303106-257685371996874\n" +
                "184687160999021-188544578144220\n" +
                "258340103822037-260744821848415\n" +
                "152917023062298-157447011231423\n" +
                "385960260830841-390050562321800\n" +
                "38861291364299-39405453096420\n" +
                "3281982973714-7037830700031\n" +
                "406114160353047-408180688735027\n" +
                "57829276278111-57829276278111\n" +
                "507014677466817-507577609524868\n" +
                "374542723441533-375112091822392\n" +
                "114357475846755-115766105072307\n" +
                "198734021978702-198734021978702\n" +
                "553257284780264-561597801015087\n" +
                "473700821070104-475523936767185\n" +
                "113435483159301-115087665051445\n" +
                "242497191325948-242497191325948\n" +
                "294270245917949-297269283127016\n" +
                "377085883505177-377586593672600\n" +
                "372005305858976-372810318417304\n" +
                "303059139415042-310645049407598\n" +
                "381401091136808-381619156273806\n" +
                "80930708960388-86701386796022\n" +
                "102525525356951-108170485649545\n" +
                "232890287812183-240518862283316\n" +
                "166979233746096-167578065989335\n" +
                "511833093206908-512140028578734\n" +
                "35324849616798-36032996048334\n" +
                "494450066510701-498192385693091\n" +
                "502772958852307-503187432771806\n" +
                "121416909236809-121416909236809\n" +
                "367016147740203-369984092206838\n" +
                "251561510682286-254452565070247\n" +
                "174397964087958-178805340569891\n" +
                "474866735023015-476470892846170\n" +
                "373320430983949-374119463563198\n" +
                "468283094457455-469703701325998\n" +
                "277947483176888-277947483176888\n" +
                "526842281664852-531017740433478\n" +
                "522047578487169-522047578487169\n" +
                "348111299303953-350165895897005\n" +
                "168741988942276-169414479775270\n" +
                "34857496454022-35024318680330\n" +
                "31266520206196-31812829315448\n" +
                "423748750132437-428944289918982\n" +
                "415837882507207-417892382404910\n" +
                "378315776087448-378659833221085\n" +
                "164401353213623-164814691375711\n" +
                "453150798871390-456795284641852\n" +
                "502772958852307-503187432771806\n" +
                "484533916970816-490492200091905\n" +
                "171700926013341-176940722190152\n" +
                "182270423081289-184687160999020\n" +
                "110951711885739-112328323306381\n" +
                "112629404011737-114061462125024\n" +
                "508743403972058-509577728047001\n" +
                "232890287812183-235537781392470\n" +
                "506337433624558-507014677466817\n" +
                "92351643659055-96246980779921\n" +
                "152917023062298-157447011231423\n" +
                "378315776087448-378796654651197\n" +
                "428944289918982-428944289918982\n" +
                "61255685842787-67499416855305\n" +
                "310645049407599-310645049407599\n" +
                "121416909236810-129113196898384\n" +
                "379793624112050-380575951935486\n" +
                "30806523226535-31556303419488\n" +
                "168422850957874-169310984644171\n" +
                "432974718241783-438409855659257\n" +
                "214077354693455-218300354525355\n" +
                "163526538425549-163773971995297\n" +
                "134144754210334-138170129140434\n" +
                "396483746129268-398435409850698\n" +
                "548358695675736-551879599099016\n" +
                "161171210718783-161751018223278\n" +
                "322019116060409-328534245922140\n" +
                "352886806461360-358343414221085\n" +
                "494450066510701-498192385693091\n" +
                "509292857159618-509847091213598\n" +
                "257023524720362-259558087599216\n" +
                "475905964034857-477582385320626\n" +
                "509062241545301-509847091213598\n" +
                "205533915657020-206925443208141\n" +
                "337713952280569-339641433201680\n" +
                "224564177147340-224564177147340\n" +
                "377770021010426-378315776087448\n" +
                "408885050468615-410539495761479\n" +
                "313807522958730-321036568524856\n" +
                "192526997137579-198734021978701\n" +
                "506488079409043-506850981640846\n" +
                "37023231028737-37251313412913\n" +
                "380339314737531-380575951935486\n" +
                "215632063697273-218300354525355\n" +
                "392837526773318-401598334871278\n" +
                "52347457634747-57829276278110\n" +
                "---" +
                "411608738400844\n" +
                "61675194491330\n" +
                "199298948774035\n" +
                "119416184564066\n" +
                "138691550240906\n" +
                "12434602130892\n" +
                "457319794530154\n" +
                "220073027566721\n" +
                "468643560105788\n" +
                "546122786812949\n" +
                "286892357518804\n" +
                "421463879435110\n" +
                "493334814402481\n" +
                "497699471957584\n" +
                "286107746724235\n" +
                "533960092463558\n" +
                "526847352609806\n" +
                "478213359718672\n" +
                "147165276626763\n" +
                "31665836272939\n" +
                "424889516536756\n" +
                "261719503397923\n" +
                "495479325358848\n" +
                "172181615727388\n" +
                "455275202878848\n" +
                "298597785008655\n" +
                "143539396166895\n" +
                "71931239723554\n" +
                "73739334780139\n" +
                "137716238151602\n" +
                "95025917374173\n" +
                "100136459965827\n" +
                "199727393761910\n" +
                "348322885923765\n" +
                "184975277518739\n" +
                "243844966744568\n" +
                "409926221814601\n" +
                "496231313639725\n" +
                "67380408362097\n" +
                "456158788384289\n" +
                "296063014390111\n" +
                "66040747307396\n" +
                "356604203467413\n" +
                "503509989290217\n" +
                "262789237135729\n" +
                "161604220683447\n" +
                "206418823707184\n" +
                "293073067145380\n" +
                "219787945552697\n" +
                "64282297376972\n" +
                "235285600596683\n" +
                "538908637007680\n" +
                "65510395485980\n" +
                "288411212955138\n" +
                "23766864285944\n" +
                "180913325074779\n" +
                "56208826348878\n" +
                "529474446462614\n" +
                "375318746108188\n" +
                "254593205968789\n" +
                "351109540841657\n" +
                "125861779731359\n" +
                "556631920269837\n" +
                "446767229582595\n" +
                "95924640414227\n" +
                "37273654978321\n" +
                "457578271598005\n" +
                "243434721516124\n" +
                "280190556072667\n" +
                "475193179452380\n" +
                "391462305805605\n" +
                "318747574448694\n" +
                "229422286409877\n" +
                "106572475379585\n" +
                "7470515342959\n" +
                "39120797542453\n" +
                "125917479521331\n" +
                "138799059573974\n" +
                "533559870075151\n" +
                "119252038616620\n" +
                "209868877344770\n" +
                "16354477168469\n" +
                "205348339616947\n" +
                "402876072422036\n" +
                "154853425928504\n" +
                "210258520666600\n" +
                "121723690682943\n" +
                "215439700720149\n" +
                "273224940966504\n" +
                "345895612342648\n" +
                "360282832748453\n" +
                "144014648135329\n" +
                "99678273469594\n" +
                "42048934517476\n" +
                "348341136118836\n" +
                "148674770470125\n" +
                "408502750113438\n" +
                "43146783355760\n" +
                "439641083043083\n" +
                "82478625280372\n" +
                "529491084602588\n" +
                "156545440180224\n" +
                "434681556347473\n" +
                "124649323092027\n" +
                "298196332975301\n" +
                "43951684826110\n" +
                "487189576347084\n" +
                "86977445398662\n" +
                "298967810348463\n" +
                "474075272723486\n" +
                "53439289477425\n" +
                "31256962616712\n" +
                "528301027736615\n" +
                "373718604564030\n" +
                "349878240711304\n" +
                "140720405280385\n" +
                "45962193511190\n" +
                "297700130768717\n" +
                "540514868664288\n" +
                "407173025832755\n" +
                "305770585775749\n" +
                "54003479140787\n" +
                "122387133164649\n" +
                "214209854366465\n" +
                "54299409494808\n" +
                "317085976976448\n" +
                "33551581750345\n" +
                "399127971850680\n" +
                "66849581114789\n" +
                "540523608509224\n" +
                "200743102299150\n" +
                "209560669778114\n" +
                "30075026589646\n" +
                "439394336329075\n" +
                "534534081222209\n" +
                "515786246298858\n" +
                "302382601250085\n" +
                "187334143063034\n" +
                "284417840468834\n" +
                "157806994663377\n" +
                "450954073256950\n" +
                "456054533639754\n" +
                "449810539575204\n" +
                "187903720349401\n" +
                "380501435521756\n" +
                "15719767766252\n" +
                "38948121610978\n" +
                "145445819360269\n" +
                "76293873131541\n" +
                "550658193943319\n" +
                "243147190096741\n" +
                "394565168614068\n" +
                "275916626894164\n" +
                "91750250795052\n" +
                "263185437482423\n" +
                "103177577458085\n" +
                "536987810551577\n" +
                "291924636612384\n" +
                "201116259208103\n" +
                "398958532217240\n" +
                "234195728557514\n" +
                "512960570898718\n" +
                "188519588729383\n" +
                "89270629554902\n" +
                "205743010071577\n" +
                "94707661070454\n" +
                "498269156673536\n" +
                "399718155043195\n" +
                "50221796266102\n" +
                "61997899805375\n" +
                "425884853141553\n" +
                "349452530632775\n" +
                "476849247386755\n" +
                "68102079931870\n" +
                "414344788079009\n" +
                "515529726220461\n" +
                "121747610580443\n" +
                "296525231258494\n" +
                "553810793477319\n" +
                "44762521887445\n" +
                "238343973436278\n" +
                "409846308791285\n" +
                "330137964473860\n" +
                "108090935816917\n" +
                "297737430132949\n" +
                "485645420052447\n" +
                "72825464971058\n" +
                "525909768358414\n" +
                "517818646726692\n" +
                "172091888034516\n" +
                "57063407337762\n" +
                "393518588029179\n" +
                "228914685981421\n" +
                "486505628299117\n" +
                "129661407593949\n" +
                "137418308923151\n" +
                "319599492490209\n" +
                "419105600080358\n" +
                "477978133999960\n" +
                "136922943361490\n" +
                "436477313252995\n" +
                "203236553601381\n" +
                "296560504360121\n" +
                "125126431070882\n" +
                "394507325333532\n" +
                "202055785697755\n" +
                "396772810100573\n" +
                "558246085716247\n" +
                "447370014160157\n" +
                "69464037742332\n" +
                "70022693131519\n" +
                "551590795028658\n" +
                "318917400797515\n" +
                "59048426476904\n" +
                "446421759533627\n" +
                "416695231308315\n" +
                "305698707959933\n" +
                "505615744633505\n" +
                "523278870323575\n" +
                "140302490822938\n" +
                "238773879201284\n" +
                "513021342901233\n" +
                "285799465458460\n" +
                "501768883766638\n" +
                "530808167006208\n" +
                "134975634107655\n" +
                "316857195530968\n" +
                "298887618183633\n" +
                "339067182040795\n" +
                "331114135532092\n" +
                "556259292151052\n" +
                "58064999688010\n" +
                "340052560777188\n" +
                "180619410436354\n" +
                "98667300074723\n" +
                "125840122136928\n" +
                "148894302529112\n" +
                "336855841734832\n" +
                "28673277316862\n" +
                "33454337460469\n" +
                "554837856725610\n" +
                "401539391273662\n" +
                "431283339128035\n" +
                "497605948879634\n" +
                "376498918224372\n" +
                "284216931183756\n" +
                "58556691331125\n" +
                "314371261080981\n" +
                "177854363487911\n" +
                "365056685225725\n" +
                "109978355187428\n" +
                "557393663305757\n" +
                "57736567840462\n" +
                "276328182222427\n" +
                "494740817814439\n" +
                "395826953868618\n" +
                "441228212700235\n" +
                "9629569832766\n" +
                "156185547898134\n" +
                "197362979744879\n" +
                "320195809988668\n" +
                "159717653899775\n" +
                "359821622294308\n" +
                "341176794701466\n" +
                "496525508030347\n" +
                "84519521726370\n" +
                "107001114705660\n" +
                "32879415905693\n" +
                "302233328937889\n" +
                "437602647058669\n" +
                "462771058368124\n" +
                "39119245339974\n" +
                "379753273040311\n" +
                "350192591849812\n" +
                "401265212887929\n" +
                "298582923535534\n" +
                "236556391217446\n" +
                "526919762264500\n" +
                "368144333591774\n" +
                "366137222511305\n" +
                "486293585324086\n" +
                "545493813761172\n" +
                "463779517164862\n" +
                "304082351505086\n" +
                "526804303712563\n" +
                "204052490990752\n" +
                "399411687622221\n" +
                "205664936731929\n" +
                "508902469335815\n" +
                "461684389403803\n" +
                "541934188580955\n" +
                "162606413356219\n" +
                "76650860703640\n" +
                "353401307952663\n" +
                "198623450187834\n" +
                "549286580613211\n" +
                "74214889992730\n" +
                "106042829845772\n" +
                "300521127468971\n" +
                "385463799175544\n" +
                "353585160829091\n" +
                "52525937530211\n" +
                "103535393583225\n" +
                "245893425795513\n" +
                "102839726641109\n" +
                "283967892424298\n" +
                "338120152693637\n" +
                "267794776138250\n" +
                "458132425905498\n" +
                "352697068757641\n" +
                "382890424921494\n" +
                "241226467272841\n" +
                "410717844231181\n" +
                "191698303626448\n" +
                "397685306754569\n" +
                "274243352060099\n" +
                "72367223306689\n" +
                "430636773538378\n" +
                "323790061781635\n" +
                "318663014279190\n" +
                "266650508973634\n" +
                "325388455217661\n" +
                "26722748586540\n" +
                "49724188159396\n" +
                "111064971084572\n" +
                "409172295159312\n" +
                "155649918120503\n" +
                "43289009749203\n" +
                "418647229152859\n" +
                "13911821067117\n" +
                "43064378831866\n" +
                "473119743873119\n" +
                "298976242511750\n" +
                "37774913112332\n" +
                "229694290094095\n" +
                "55184205564641\n" +
                "497276991869603\n" +
                "113690910020357\n" +
                "304116624971057\n" +
                "140082806865107\n" +
                "178404121445919\n" +
                "129680267147505\n" +
                "43192114057157\n" +
                "175397955884966\n" +
                "390929756548656\n" +
                "445637509041864\n" +
                "472219591568690\n" +
                "182004005221806\n" +
                "499791515342629\n" +
                "558448649567514\n" +
                "69416794153088\n" +
                "509951499989133\n" +
                "416215685971896\n" +
                "347817013416784\n" +
                "155022802391821\n" +
                "477045142285829\n" +
                "112485461394498\n" +
                "267731473695893\n" +
                "78089351267894\n" +
                "17818875220412\n" +
                "185863791143096\n" +
                "401068013434374\n" +
                "253999991985337\n" +
                "466453056879912\n" +
                "14676022868614\n" +
                "516185982861903\n" +
                "281416688710565\n" +
                "84421609465214\n" +
                "132085898271328\n" +
                "550717972245822\n" +
                "378298445403622\n" +
                "519277364533597\n" +
                "56928694772561\n" +
                "460389310450308\n" +
                "314437234784670\n" +
                "84578224056205\n" +
                "5154159551132\n" +
                "177333693717868\n" +
                "213916660145219\n" +
                "237733299211322\n" +
                "365593754375443\n" +
                "340852485194219\n" +
                "143038346804665\n" +
                "109275470718905\n" +
                "291840017189002\n" +
                "183685180752581\n" +
                "406285062836228\n" +
                "42387390659385\n" +
                "81761467079762\n" +
                "306469511948719\n" +
                "211773256308911\n" +
                "115949428261702\n" +
                "359189839893803\n" +
                "523958624980601\n" +
                "428516046310763\n" +
                "535874743220197\n" +
                "389841873716151\n" +
                "89645139508931\n" +
                "248330952918733\n" +
                "424687875910665\n" +
                "346688890215604\n" +
                "405495969921737\n" +
                "321625325619727\n" +
                "64269964256584\n" +
                "167594470426142\n" +
                "395516314849806\n" +
                "164756527067923\n" +
                "247350003116280\n" +
                "151336359716125\n" +
                "559344844039441\n" +
                "111296018475806\n" +
                "246677445795755\n" +
                "379678573779873\n" +
                "201111357880351\n" +
                "135607747030138\n" +
                "145293718519892\n" +
                "265606783826147\n" +
                "184426435596018\n" +
                "72668933716679\n" +
                "372826865291612\n" +
                "495165661271544\n" +
                "43841539171306\n" +
                "444870354798989\n" +
                "448672695131020\n" +
                "161350122942336\n" +
                "556916783287585\n" +
                "113137884419290\n" +
                "52203241646662\n" +
                "539115449671452\n" +
                "517367628534416\n" +
                "198160383275581\n" +
                "204995855363744\n" +
                "327679844008882\n" +
                "260770128278901\n" +
                "61022912419068\n" +
                "440322150910978\n" +
                "396245718260340\n" +
                "383724986938211\n" +
                "402993125096067\n" +
                "527301491859775\n" +
                "243100692713263\n" +
                "252902528305328\n" +
                "185049720743435\n" +
                "517979710473290\n" +
                "425967527583983\n" +
                "235984408887627\n" +
                "306904775512231\n" +
                "466662741239533\n" +
                "431581879407006\n" +
                "487394098217882\n" +
                "338838433462880\n" +
                "236437826908048\n" +
                "209304469563045\n" +
                "8089414670423\n" +
                "377773043251350\n" +
                "75308331985595\n" +
                "145641482658090\n" +
                "446163417265074\n" +
                "531165678945386\n" +
                "208297855844826\n" +
                "79559482305681\n" +
                "504990422870161\n" +
                "393616116675152\n" +
                "462918120281881\n" +
                "91915411493371\n" +
                "215699620682755\n" +
                "327367110669184\n" +
                "84039362584584\n" +
                "440377685518981\n" +
                "436646697588731\n" +
                "473624752383857\n" +
                "77294267832725\n" +
                "66319647998459\n" +
                "349950039774174\n" +
                "89202553655569\n" +
                "466414461974316\n" +
                "322177442952920\n" +
                "215803067483594\n" +
                "487862169874553\n" +
                "409721256299569\n" +
                "138046203989983\n" +
                "334175771502636\n" +
                "109332667693119\n" +
                "296210331408525\n" +
                "529559695051452\n" +
                "417516007881182\n" +
                "440847812743778\n" +
                "349450783955787\n" +
                "509118596110888\n" +
                "387193268172628\n" +
                "243282603918140\n" +
                "468682382291011\n" +
                "504518068388682\n" +
                "235811091727546\n" +
                "477506690094544\n" +
                "315611815936565\n" +
                "404912341059198\n" +
                "103448690673847\n" +
                "175025269558831\n" +
                "176693928696811\n" +
                "33527744283985\n" +
                "314962234606764\n" +
                "447995057453935\n" +
                "4970417423646\n" +
                "377995528895606\n" +
                "6881014002066\n" +
                "199291165255389\n" +
                "124587177717137\n" +
                "197497251511667\n" +
                "206899189604820\n" +
                "278858569447767\n" +
                "431406323927596\n" +
                "170273431285064\n" +
                "144711246165315\n" +
                "455430416548742\n" +
                "470651014032667\n" +
                "525982295923829\n" +
                "533683043640786\n" +
                "517760097237291\n" +
                "193468109656711\n" +
                "345632720851923\n" +
                "353318512481078\n" +
                "404680548677620\n" +
                "43365676489818\n" +
                "351171689631500\n" +
                "17514704111299\n" +
                "75219765189134\n" +
                "176044150619858\n" +
                "250569191227086\n" +
                "63386586769295\n" +
                "147623435080517\n" +
                "171960711796716\n" +
                "75771348624900\n" +
                "193756037339998\n" +
                "402464475687810\n" +
                "112782843647801\n" +
                "128968882952146\n" +
                "149705926845886\n" +
                "309013204747015\n" +
                "226169844274030\n" +
                "457731810603871\n" +
                "320853539364888\n" +
                "314840810629693\n" +
                "236228887181803\n" +
                "170167192346757\n" +
                "301263011620955\n" +
                "497598436926561\n" +
                "220516695249503\n" +
                "141579812634367\n" +
                "328563582249377\n" +
                "376273548459471\n" +
                "463569047614884\n" +
                "234114764341311\n" +
                "198212328340504\n" +
                "527963444451316\n" +
                "400234912935106\n" +
                "371223162092448\n" +
                "148687266315784\n" +
                "374762319120787\n" +
                "367115009617464\n" +
                "265539238290838\n" +
                "402991722872749\n" +
                "403416418989622\n" +
                "150338135046689\n" +
                "180075769115894\n" +
                "538653783706303\n" +
                "215871719316288\n" +
                "94640551127394\n" +
                "548904942831656\n" +
                "444934464883180\n" +
                "458081305848584\n" +
                "388354308261256\n" +
                "86199191086164\n" +
                "178030537191799\n" +
                "63650573704045\n" +
                "52744010284942\n" +
                "267222328493586\n" +
                "104626883979944\n" +
                "457341343618628\n" +
                "148368357634357\n" +
                "347053723176769\n" +
                "176884970242097\n" +
                "100932347673816\n" +
                "329368007157257\n" +
                "63260931392759\n" +
                "477755832140659\n" +
                "327515401052017\n" +
                "308486355982754\n" +
                "163546957957541\n" +
                "149030703934703\n" +
                "384122139356149\n" +
                "45529665098384\n" +
                "76677369775674\n" +
                "377632588753422\n" +
                "451121453362223\n" +
                "374082357013355\n" +
                "97353473553206\n" +
                "154089750760942\n" +
                "159374914896146\n" +
                "506981568471786\n" +
                "558254284940058\n" +
                "392310350618791\n" +
                "427698560103460\n" +
                "336520756094344\n" +
                "31457208933524\n" +
                "473191907746283\n" +
                "417502886888751\n" +
                "105292046762369\n" +
                "137034796735143\n" +
                "363638037641564\n" +
                "520110181729923\n" +
                "388328068843474\n" +
                "195992624002453\n" +
                "456367476441214\n" +
                "372181512246029\n" +
                "112169240891248\n" +
                "277727502595184\n" +
                "301675566368004\n" +
                "107197218574284\n" +
                "55370943163591\n" +
                "422869643698383\n" +
                "255829408395956\n" +
                "217719478911634\n" +
                "529501238517960\n" +
                "269825084849496\n" +
                "172550423395413\n" +
                "386982801700762\n" +
                "331380118810753\n" +
                "134392485118846\n" +
                "5863629939336\n" +
                "346799243213765\n" +
                "252401340605954\n" +
                "211177961675635\n" +
                "397952620061224\n" +
                "349478560800100\n" +
                "190220741628346\n" +
                "529456386995823\n" +
                "357452259022011\n" +
                "92002687037222\n" +
                "232309158262996\n" +
                "305680313333851\n" +
                "134617303668688\n" +
                "60406623787110\n" +
                "81901594747948\n" +
                "173817239346713\n" +
                "457478825841469\n" +
                "400410568897298\n" +
                "122261725744245\n" +
                "39623422083182\n" +
                "177033974408717\n" +
                "502052701798790\n" +
                "363808691654502\n" +
                "519342365012482\n" +
                "33985279285922\n" +
                "495317108883822\n" +
                "254835921567468\n" +
                "544566074192845\n" +
                "56455958447453\n" +
                "329873364761118\n" +
                "105382011948471\n" +
                "214562359927964\n" +
                "285360433346723\n" +
                "237292599789810\n" +
                "51561023317186\n" +
                "379254825206952\n" +
                "338822172474073\n" +
                "409110413886914\n" +
                "247123551215294\n" +
                "233698692107064\n" +
                "126039738357075\n" +
                "77912333724310\n" +
                "515861489473656\n" +
                "376057663190581\n" +
                "557793858344618\n" +
                "33421027285572\n" +
                "541500118068725\n" +
                "80463708476485\n" +
                "202287702407631\n" +
                "481705752471694\n" +
                "529983272673192\n" +
                "46806787533057\n" +
                "326071393346800\n" +
                "349365981836115\n" +
                "27434028727770\n" +
                "271115808708782\n" +
                "329834504012832\n" +
                "33922752168209\n" +
                "429454976642505\n" +
                "227557778558270\n" +
                "149080103851125\n" +
                "31422179346462\n" +
                "447241382556631\n" +
                "153259642334809\n" +
                "296564275328132\n" +
                "295580180209828\n" +
                "114163745641819\n" +
                "7813948514540\n" +
                "324367630864118\n" +
                "388427674694712\n" +
                "479802560805216\n" +
                "327576519173601\n" +
                "126463054716031\n" +
                "314415950288419\n" +
                "253663929312196\n" +
                "208608513111036\n" +
                "326098410569668\n" +
                "236164626645916\n" +
                "293324691931443\n" +
                "15394943795655\n" +
                "375162247266642\n" +
                "409212852575457\n" +
                "546847707630277\n" +
                "438396505672362\n" +
                "148918421689933\n" +
                "498886737966809\n" +
                "264817099144630\n" +
                "314461721211493\n" +
                "5879487143202\n" +
                "457932261235680\n" +
                "478992323049159\n" +
                "73515621521528\n" +
                "92746401044212\n" +
                "304782169421012\n" +
                "309681663732914\n" +
                "180392963657059\n" +
                "486657803504384\n" +
                "263986922912881\n" +
                "75574232653262\n" +
                "318319892956290\n" +
                "173381721906266\n" +
                "26616583023624\n" +
                "175976623943698\n" +
                "529462908031610\n" +
                "30899165334737\n" +
                "178657753473698\n" +
                "244939725390060\n" +
                "404288408216825\n" +
                "13032217296412\n" +
                "498175892520458\n" +
                "445889432699214\n" +
                "497205994573131\n" +
                "513001820379153\n" +
                "256802348880744\n" +
                "466707930521970\n" +
                "446370391692660\n" +
                "113127741729253\n" +
                "92821694119016\n" +
                "253408078507907\n" +
                "360894449393254\n" +
                "283802526151190\n" +
                "55871972472082\n" +
                "435043364413102\n" +
                "503210865384170\n" +
                "191653966933191\n" +
                "281037052573631\n" +
                "554209596745649\n" +
                "409703735604582\n" +
                "506271004373493\n" +
                "147814580774312\n" +
                "470257554153825\n" +
                "170282453166662\n" +
                "524975358835194\n" +
                "181498152717824\n" +
                "213248973884114\n" +
                "219608111709846\n" +
                "177970536028831\n" +
                "59431956568774\n" +
                "448532267857309\n" +
                "340709599067273\n" +
                "148994979189144\n" +
                "76320401092143\n" +
                "168586125441394\n" +
                "105621006879595\n" +
                "141750735699609\n" +
                "99239833029003\n" +
                "427412706821815\n" +
                "26643836656486\n" +
                "541964936365261\n" +
                "556422210847124\n" +
                "111189983474186\n" +
                "90437992767042\n" +
                "464953748461697\n" +
                "319486544460775\n" +
                "313910182916908\n" +
                "445228072823538\n" +
                "52674005989460\n" +
                "308777609267244\n" +
                "225788472486161\n" +
                "506522636053732\n" +
                "190335746633973\n" +
                "66267163761059\n" +
                "318006195849487\n" +
                "267616724100256\n" +
                "351565999181949\n" +
                "276370750988534\n" +
                "372073769953152\n" +
                "406009459683884\n" +
                "280282964820759\n" +
                "160301712554287\n" +
                "400021627552953\n" +
                "67718681020264\n" +
                "44889286792439\n" +
                "511382190674388\n" +
                "446126626773153\n" +
                "485563911975966\n" +
                "18832964146166\n" +
                "302979406724178\n" +
                "294354214554337\n" +
                "155045782194622\n" +
                "26642641924681\n" +
                "314220805304347\n" +
                "231312596111984\n" +
                "456255067310318\n" +
                "438811461211266\n" +
                "327412888506198\n" +
                "12780330683978\n" +
                "430678512222693\n" +
                "95829057757050\n" +
                "103577744791963\n" +
                "369419155310984\n" +
                "41325695408508\n" +
                "156292395245980\n" +
                "115437744108107\n" +
                "453232216642352\n" +
                "479833978355868\n" +
                "398689776863801\n" +
                "73301070935128\n" +
                "227566155744834\n" +
                "298996870058337\n" +
                "486200762849413\n" +
                "234047239792387\n" +
                "115659265219725\n" +
                "495407490118793\n" +
                "66564416693734\n" +
                "6725846182416\n" +
                "546325694826390\n" +
                "483857525577202\n" +
                "188622151657238\n" +
                "45524791230944\n" +
                "67959158498509\n" +
                "93332625738159\n" +
                "447816891103675\n" +
                "495056035395735\n" +
                "229038948144536\n" +
                "264712666157826\n" +
                "501074346046993\n" +
                "537946386588405\n" +
                "516510583473994\n" +
                "521465507618301\n" +
                "434975673282287\n" +
                "465613528958440\n" +
                "13732302254268\n" +
                "57669323940710\n" +
                "137123394674029\n" +
                "510481430315682\n" +
                "209823425280929\n" +
                "460164720747679\n" +
                "164583503156820\n" +
                "558606271663822\n" +
                "48542588084106\n" +
                "21197272424846\n" +
                "83711179404249\n" +
                "64823672368390\n" +
                "522506807355240\n" +
                "140703506644757\n" +
                "179075557698115\n" +
                "349962511843221\n" +
                "458948519618251\n" +
                "177442129098879\n" +
                "199972425247684\n" +
                "285626964386715\n" +
                "297146126625722\n" +
                "127339141637708\n" +
                "14447747443068\n" +
                "445767879950008\n" +
                "347168757015179\n" +
                "155404019692843\n" +
                "116357366645194\n" +
                "482126987132677\n" +
                "275675792708367\n" +
                "149294330458308\n" +
                "288675827441820\n" +
                "559735562844021\n" +
                "295866419802618\n" +
                "55154507346790\n" +
                "130226926146543\n" +
                "373620796019093\n" +
                "178808636154104\n" +
                "38872719977771\n" +
                "80452041904830\n" +
                "539194276842337\n" +
                "79929435809961\n" +
                "169063643666623\n" +
                "256844662038825\n" +
                "177176185769368\n" +
                "363592620613548\n" +
                "262079035399220\n" +
                "381272517693626\n" +
                "10727348558460\n" +
                "380811790249721\n" +
                "19270583846974\n" +
                "386015540095895\n" +
                "225224401570896\n" +
                "277735929457801\n" +
                "113685493086502\n" +
                "497212728278272\n" +
                "248616030361465\n" +
                "455199679435847\n" +
                "357302425095682\n" +
                "502332056834293\n" +
                "204487843388560\n" +
                "106731084540602\n" +
                "437132637073035\n" +
                "522979659012252\n" +
                "397943989499789\n" +
                "259928681904214\n" +
                "409865005430983\n" +
                "310417613886439\n" +
                "451869844721656\n" +
                "508846715578927\n" +
                "198636724346554\n" +
                "136593633969179\n" +
                "355606537626438\n" +
                "118825324540769\n" +
                "336230462516814\n" +
                "184852038815800\n" +
                "206924902848530\n" +
                "83132579786902\n" +
                "428897702714009\n" +
                "523215040233719\n" +
                "445505760281388\n" +
                "427504786903229\n" +
                "235835052548338\n" +
                "517723217920450\n" +
                "339098817928088\n" +
                "444917765964578\n" +
                "22679035836656\n" +
                "148530775754812\n" +
                "61923723885331\n" +
                "66360059207432\n" +
                "389897661309439\n" +
                "114171215809743\n" +
                "178180825745276\n" +
                "235227455223982\n" +
                "4864619349423\n" +
                "139686685767078\n" +
                "501871596694089\n" +
                "175523058613295\n" +
                "310489683671089\n" +
                "306366976130279\n" +
                "404862569768738\n" +
                "152483259734287\n" +
                "199713540065089\n" +
                "489802703575552\n" +
                "293253716841306\n" +
                "435751508142885\n" +
                "241904484201377\n" +
                "491274378711831\n" +
                "411589639947665\n" +
                "114759666919182\n" +
                "220975061665914\n" +
                "64030908926948\n" +
                "45344111955998\n" +
                "154466726539907\n" +
                "325608940202010\n" +
                "216502536324372\n" +
                "2241515492510\n" +
                "87966958513700\n" +
                "127789376579602\n" +
                "339013656458548\n" +
                "176623498357132\n" +
                "425191162221760\n" +
                "534100825105958\n" +
                "12001726082653\n" +
                "394248211214290\n" +
                "480357942834800\n" +
                "540544180031957\n" +
                "63864320716595\n" +
                "433251858703447\n" +
                "150506416090713\n" +
                "358409381132190\n" +
                "348964481683176\n" +
                "275642507837399\n" +
                "126280305342920\n" +
                "420871932215997\n" +
                "188386635851905\n" +
                "550271140915579\n" +
                "234984049534924\n" +
                "473078521244958\n" +
                "375428342489824\n" +
                "31319338664773\n" +
                "530380300107582\n" +
                "142060765638645\n" +
                "52090014487927\n" +
                "314142553869921\n" +
                "379688668464586\n" +
                "510370828326063\n" +
                "468934789302909\n" +
                "355080811119938\n" +
                "270890610705945";

        int c = 0;

        String[] ss = s.split("---");
        String[] ing = ss[0].split("\n");
        String[] availIng = ss[1].split("\n");

        List<Pair<Long, Long>> ings = new ArrayList<>();

        for (int i = 0; i < ing.length; i++) {
            ings.add(new Pair<>(Long.parseLong(ing[i].split("-")[0]), Long.parseLong(ing[i].split("-")[1])));
        }

        for (int i = 0; i < availIng.length; i++) {
            long h = Long.parseLong(availIng[i]);
            for (Pair p : ings) {
                if (h>=(Long)p.getFirst() && h<=(Long)p.getSecond()) {
                    c++;
                    break;
                }
            }
        }

        System.out.println(c);

    }
}
